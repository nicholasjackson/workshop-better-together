# Step 1:  Gaining Passage to the Final Server

ğŸ´â€â˜ ï¸ You approach Blackbeardâ€™s last citadelâ€”a shared GCP Minecraft server guarded by advanced automation.

To gain entry, you must configure Ansible Automation Platform (AAP) to whitelist your usernameâ€”only those on the access list can proceed to the puzzle-laden realm inside.


Starter code has been provided in the final task directory. You will need to
complete this task in vscode and apply your changes for access to the shared GCP Minecraft server, where the final challenge will Start.
![vscode](/assets/task_4/task4-vscode.png)

## 1. Create a new AAP inventory for the shared GCP Minecraft server

```
{{ shared_minecraft_instance}}
```
<a href="https://registry.terraform.io/providers/ansible/aap/latest/docs/resources/inventory" target="_blank" rel="noopener noreferrer">ansible/aap/latest/docs/resources/inventory</a>
 * Hint: you will need your organization id use the locals provided


## 2. Create a new AAP host for the GCP minecraft server set any required variables
<a href="https://registry.terraform.io/providers/ansible/aap/latest/docs/resources/host" target="_blank" rel="noopener noreferrer">ansible/aap/latest/docs/resources/host</a>


## 3. Execute the Job Template to update the minecraft server for access using existing job template - minecraft_whitelist
<a href="https://registry.terraform.io/providers/ansible/aap/latest/docs/resources/job" target="_blank" rel="noopener noreferrer">ansible/aap/latest/docs/resources/job</a>
* credentials are preconfigured and using the same credentials as task 3 no changes are required to the AAP job template

Once you have successfully completed the task, you can verify the Ansible job execution in AAP
Login to the AAP web console and from the tab **Ansible Automation Platform**, using `<teamname_admin>` and {{ aap_password }}.
You can see the job status and output in the menu on the left side of the screen. 
**Automation Execution -> Jobs**

* The job template executed successfully in Ansible Automation Platform (AAP), completing the intended task
* The Vault-signed SSH certificate was successfully injected into the execution environment and used to authenticate with the shared GCP Minecraft server
* The debug output from the job execution displays the results of updating the Minecraft server's access list, confirming the changes were applied

![aaprun](/assets/task_4/task4-aap.png)

<Solution title="Solution: Gain access to the shared GCP Minecraft server using AAP">
```
See TA if your stuck and need help.
You will need access to the shared GCP Minecraft server to complete the final challenge.
```
</Solution>

## Step 1 Complete

ğŸ‰ Congratulations! Youâ€™ve now bypassed the fortress gates and stand on the threshold of the ultimate treasure hunt. In Step 2, youâ€™ll face a gauntlet of puzzlesâ€”some easy, some devilishly complexâ€”but all lead to buried treasure in the Minecraft survival world.

ğŸš€ Good luck, brave pirateâ€”the final test awaits!